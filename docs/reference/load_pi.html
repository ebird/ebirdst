<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Load predictor importance (PI) rasters — load_pi • ebirdst</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Load predictor importance (PI) rasters — load_pi"><meta name="description" content="The eBird Status models estimate the relative importance of each of the core
environmental predictor used in the model (i.e. the % land and water cover
variables). These predictor importance (PI) data are converted to ranks (with
a rank of 1 being the most important) relative to the full suite of
environmental predictors. The ranks are summarized to a 27 km resolution
raster grid for each predictor, where the cell values are the average across
all models in the ensemble contributing to that cell. These data are
available in raster format provided download_pis = TRUE was used when
calling ebirdst_download_status(). PI estimates are available separately
for both the occurrence and count sub-model and only the 30 most important
predictors are distributed. Use list_available_pis() to see which
predictors have PI data."><meta property="og:description" content="The eBird Status models estimate the relative importance of each of the core
environmental predictor used in the model (i.e. the % land and water cover
variables). These predictor importance (PI) data are converted to ranks (with
a rank of 1 being the most important) relative to the full suite of
environmental predictors. The ranks are summarized to a 27 km resolution
raster grid for each predictor, where the cell values are the average across
all models in the ensemble contributing to that cell. These data are
available in raster format provided download_pis = TRUE was used when
calling ebirdst_download_status(). PI estimates are available separately
for both the occurrence and count sub-model and only the 30 most important
predictors are distributed. Use list_available_pis() to see which
predictors have PI data."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ebirdst</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">3.2023.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/status.html">Get Started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-vignettes" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Vignettes</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-vignettes"><li><a class="dropdown-item" href="../articles/status.html">Introduction to eBird Status Data Products</a></li>
    <li><a class="dropdown-item" href="../articles/applications.html">eBird Status Data Products Applications</a></li>
    <li><a class="dropdown-item" href="../articles/trends.html">eBird Trends Data Products</a></li>
    <li><a class="dropdown-item" href="../articles/api.html">eBird Status and Trends Data Products API</a></li>
  </ul></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Function Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/product-changelog.html#2022-changelog">Changelog</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Version History</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><a class="external-link nav-link" href="https://github.com/ebird/ebirdst/" aria-label="github"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Load predictor importance (PI) rasters</h1>
      <small class="dont-index">Source: <a href="https://github.com/ebird/ebirdst/blob/HEAD/R/load.R" class="external-link"><code>R/load.R</code></a></small>
      <div class="d-none name"><code>load_pi.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The eBird Status models estimate the relative importance of each of the core
environmental predictor used in the model (i.e. the % land and water cover
variables). These predictor importance (PI) data are converted to ranks (with
a rank of 1 being the most important) relative to the full suite of
environmental predictors. The ranks are summarized to a 27 km resolution
raster grid for each predictor, where the cell values are the average across
all models in the ensemble contributing to that cell. These data are
available in raster format provided <code>download_pis = TRUE</code> was used when
calling <code><a href="ebirdst_download_status.html">ebirdst_download_status()</a></code>. PI estimates are available separately
for both the occurrence and count sub-model and only the 30 most important
predictors are distributed. Use <code>list_available_pis()</code> to see which
predictors have PI data.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">load_pi</span><span class="op">(</span></span>
<span>  <span class="va">species</span>,</span>
<span>  <span class="va">predictor</span>,</span>
<span>  response <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"occurrence"</span>, <span class="st">"count"</span><span class="op">)</span>,</span>
<span>  path <span class="op">=</span> <span class="fu"><a href="ebirdst_data_dir.html">ebirdst_data_dir</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu">list_available_pis</span><span class="op">(</span><span class="va">species</span>, path <span class="op">=</span> <span class="fu"><a href="ebirdst_data_dir.html">ebirdst_data_dir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-species">species<a class="anchor" aria-label="anchor" href="#arg-species"></a></dt>
<dd><p>character; the species to load data for, given as a scientific
name, common name or six-letter species code (e.g. "woothr"). The full list
of valid species is in the <a href="ebirdst_runs.html">ebirdst_runs</a> data frame included in this
package. To download the example dataset, use <code>"yebsap-example"</code>.</p></dd>


<dt id="arg-predictor">predictor<a class="anchor" aria-label="anchor" href="#arg-predictor"></a></dt>
<dd><p>character; the predictor that the PI data should be loaded
for. The list of predictors that PI data are available for varies by
species, use <code>list_available_pis()</code> to get the list for a given species.</p></dd>


<dt id="arg-response">response<a class="anchor" aria-label="anchor" href="#arg-response"></a></dt>
<dd><p>character; the model (occurrence or count) that the PI
data should be loaded for.</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>character; directory to download the data to. All downloaded
files will be placed in a sub-directory of this directory named for the
data version year, e.g. "2020" for the 2020 Status Data Products. Each
species' data package will then appear in a directory named with the eBird
species code. Defaults to a persistent data directory, which can be found
by calling <code><a href="ebirdst_data_dir.html">ebirdst_data_dir()</a></code>.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <a href="https://rspatial.github.io/terra/reference/SpatRaster-class.html" class="external-link">SpatRaster</a> object with the PI ranks for the
given predictor. For migrants, the estimates are weekly and the raster will
have 52 layers, where the layer names are the dates (<code>MM-DD</code> format) of the
midpoint of each week. For residents, a single year round layer is
returned.</p>
<p><code>list_available_pis()</code> returns a data frame listing the top 30 predictors for
which PI rasters can be loaded. In addition to the predictor names, the mean
range-wide rank (<code>rank_mean</code>) is given as well as the integer rank
(<code>rank</code>) relative to the full suite of predictors (environmental and effort).</p>
    </div>
    <div class="section level2">
    <h2 id="functions">Functions<a class="anchor" aria-label="anchor" href="#functions"></a></h2>

<ul><li><p><code>list_available_pis()</code>: list the predictors that have PI information for this
species.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># download example data if hasn't already been downloaded</span></span></span>
<span class="r-in"><span><span class="fu"><a href="ebirdst_download_status.html">ebirdst_download_status</a></span><span class="op">(</span><span class="st">"yebsap-example"</span>, download_pis <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># identify the top predictor</span></span></span>
<span class="r-in"><span><span class="va">top_preds</span> <span class="op">&lt;-</span> <span class="fu">list_available_pis</span><span class="op">(</span><span class="st">"yebsap-example"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://www.math.uzh.ch/pages/spam/reference/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">top_preds</span><span class="op">[</span><span class="fl">1</span>, <span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># load predictor importance raster of top predictor for occurrence</span></span></span>
<span class="r-in"><span><span class="fu">load_pi</span><span class="op">(</span><span class="st">"yebsap-example"</span>, <span class="va">top_preds</span><span class="op">$</span><span class="va">predictor</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="http://strimas.com" class="external-link">Matthew Strimas-Mackey</a>, Shawn Ligocki, Tom Auer, Daniel Fink.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.2.</p>
</div>

    </footer></div>





  </body></html>

